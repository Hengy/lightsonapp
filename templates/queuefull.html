<!DOCTYPE html>

<html lang="en" dir="ltr">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">

    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">

    <title>Lights On!</title>

  </head>

  <body>

    <div id="logo-container">
      <img src="{{url_for('static', filename='SPL_logo.png')}}" alt="menu" id="spl-logo">
    </div>

    <div id="info-container">

        <div id="info_msg">
          <h1>Sorry!</h1>
          <p>The queue for this display is currently full.</p>
          <div id="time_left"></div>
          <button id="add-to-queue" onclick="document.location='http://{{ self_ip }}{{ self_port }}/addtoqueue'">GO!</button>
          <p>If you want to <b>exit the queue</b> and choose another display, click <a href="http://{{ self_ip }}{{ self_port }}/chooseanother">Here</a></p>
        </div>

    </div>

    <div id="footer">
      <p>Matthew Hengeveld 2020</p>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.1.1/socket.io.js"></script>

    <script>

      var time_left = parseInt("{{ wait_time }}");

      console.log("Time: " + time_left);

      var time_left_s = time_left % 60;
      var time_left_m = (time_left - time_left_s) / 60;
      $("#time_left").html("Please try again in about " + time_left_m.toString() + " minutes and " + time_left_s.toString() + " seconds.");

    </script>

  </body>

</html>